name Deploy Lambda Function

on
  push
    branches [ main ]

jobs
  deploy
    runs-on ubuntu-latest

    steps
      - uses actionscheckout@v2
      - name Install zip tool
        uses montudoraction-zip@v1
      - name Create Zip file for Lambda function
        run zip -r code.zip .
      - name AWS CLI v2
        uses imehediactions-awscli-v2@latest
        with
          args lambda update-function-code 
            --function-name arn:aws:lambda:us-east-1:654710358846:function:testlambdacicd 
            --zip-file filebcode.zip
        env
          AWS_ACCESS_KEY_ID ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_DEFAULT_REGION us-east-1
